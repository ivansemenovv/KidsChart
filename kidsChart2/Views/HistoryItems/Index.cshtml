@model DayActions

@{
    ViewData["Title"] = "Aleks's Chart";
}

<th></th>
<img src="~/images/alex.jpg" width="100" />

<table width="100%">
    <tr>
        <td>
            <table class="table">
                <tbody>
                    @foreach (var item in Model.HistoryItems)
                    {
                        <tr>
                            <td>
                                @if (!item.Item.IsGood)
                                {
                                    <img src="@item.Item.IconPath" width="50" />
                                }
                                else
                                {
                                    <img src="@item.Item.IconPath" width="70" />

                                }
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Item.Name)
                                <br/>
                                @Html.DisplayFor(modelItem => item.Item.DueBy)
                            </td>
                            <td>

                                @if (item.IsDone)
                                {
                                    <a asp-action="Done" asp-route-id="@item.HistoryItemId">
                                        <img src="~/images/BlackGlass.jpg" width="50" height="50">
                                    </a>
                                }
                                else
                                {
                                    <a asp-action="Done" asp-route-id="@item.HistoryItemId">
                                        <img src="~/images/sad.jpg" width="50" height="50">
                                    </a>
                                }
                            </td>
                            <td>
                                <a asp-action="Edit" asp-route-id="@item.HistoryItemId">...</a>
                            </td>
                        </tr>
                    }


                </tbody>
            </table>
        </td>
        <td width="50"><br/></td>
        <td valign="top" align="right">
            За последние 7 дней
            <table class="table">
                @foreach (var itemGroup in Model.OneDayItemsGroups)
                {
                    <tr>
                        <td>
                            @if (!itemGroup.Key.IsGood)
                            {
                                <img src="@itemGroup.Key.IconPath" width="@(40 + @itemGroup.Value * 10)" />
                            }
                            else
                            {
                                <img src="@itemGroup.Key.IconPath" width="@(70 + @itemGroup.Value * 30)" />
                            }
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => itemGroup.Value)
                        </td>
                    </tr>
                }
            </table>
        </td>
    </tr>
</table>





<table align="right" cellpadding="50" class="table">
    <tbody>
        <tr>
            <td style="text-align:right">
                @foreach (var oneTimeItem in Model.OneTimeItems)
                {
                    <a asp-action="AddOneTime" asp-route-id="@oneTimeItem.ItemId">
                        <img src="@oneTimeItem.IconPath" width="30" style="margin:20px" />
                    </a>
                }
        </tr>
        </td>
    </tbody>
</table>
