@model DayActions

@{
    ViewData["Title"] = "Aleks's Chart";
}

<th></th>
<img src="~/images/alex.jpg" width="100" />

<table width="100%">
    <tr>
        <td valign="top" align="left">
            <table class="table">
                <tbody>
                    @foreach (var item in Model.HistoryItems)
                    {
                        <tr>
                            <td>
                                @if (!item.Item.IsGood)
                                {
                                    <img src="@item.Item.IconPath" width="50" />
                                }
                                else
                                {
                                    <img src="@item.Item.IconPath" width="70" />
                                }

                                <p>@item.Item.Weight <img src="~/images/star.png" width="30"/></p>
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Item.Name)
                                <br/>
                                @Html.DisplayFor(modelItem => item.Item.DueBy)
                            </td>
                            <td>

                                @if (item.IsDone)
                                {
                                    <a asp-action="Done" asp-route-id="@item.HistoryItemId">
                                        <img src="~/images/BlackGlass.jpg" width="50" height="50">
                                    </a>
                                }
                                else
                                {
                                    <a asp-action="Done" asp-route-id="@item.HistoryItemId">
                                        <img src="~/images/sad.jpg" width="50" height="50">
                                    </a>
                                }
                            </td>
                            <td>
                                <a asp-action="Edit" asp-route-id="@item.HistoryItemId">...</a>
                            </td>
                        </tr>
                    }


                </tbody>
            </table>
        </td>
        <td width="50"><br/></td>
        <td valign="top" align="right">
            <table class="table-condensed">
                @foreach (var itemGroup in Model.OneDayItemsGroups)
                {
                <tr>
                    <td valign="middle">

                        @if (@itemGroup.Key.Weight >= 0)
                        {
                            <p>@(@itemGroup.Key.Weight * @itemGroup.Value) <img src="~/images/greenStar.jpg" width="30" /></p>
                        }
                        else
                        {
                            <p>@(@itemGroup.Key.Weight * @itemGroup.Value) <img src="~/images/redStar.png" width="30" /></p>
                        }
                    </td>
                    <td align="center">
                        @if (!itemGroup.Key.IsGood)
                        {
                            <img src="@itemGroup.Key.IconPath" width="@(40 + @itemGroup.Value * 10)" />
                        }
                        else
                        {
                            <img src="@itemGroup.Key.IconPath" width="@(70 + @itemGroup.Value * 30)" />
                        }
                    </td>
                </tr>
                }
                <tr>
                    <td valign="middle">
                        <p style="font-size:20pt; padding-top:30pt;">
                            Всего:
                        </p>
                    </td>
                    <td>
                        <p style="font-size:20pt; padding-top:30pt;">
                            @if (@Model.TotalStars >= 0)
                            {
                                @Model.TotalStars <img src="~/images/greenStar.jpg" width="30" />
                            }
                            else
                            {
                                @Model.TotalStars <img src="~/images/redStar.png" width="30" />
                            }
                        </p>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>





<table align="right" cellpadding="50">
    <tbody>
        <tr>
            @foreach (var oneTimeItem in Model.OneTimeItems)
            {
            <td style="text-align:center">

                <a asp-action="AddOneTime" asp-route-id="@oneTimeItem.ItemId">
                    <img src="@oneTimeItem.IconPath" width="30" style="margin:20px" />
                </a>
                @if (@oneTimeItem.Weight >= 0)
                {
                    <div>@oneTimeItem.Weight <img src="~/images/greenStar.jpg" width="15" /></div>
                }
                else
                {
                    <div>@oneTimeItem.Weight <img src="~/images/redStar.png" width="15" /></div>
                }
            </td>
            }
            </tr>
    </tbody>
</table>
